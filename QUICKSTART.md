# RAG系统快速开始指南

## 1. 安装依赖

```bash
pip install -r requirements.txt
```

## 2. 确保Ollama服务运行

确保您的Ollama服务正在运行，并且已部署DeepSeek模型：

```bash
# 检查Ollama服务
ollama serve

# 检查模型是否已部署
ollama list

# 如果没有deepseek-r1:8b模型，请拉取
ollama pull deepseek-r1:8b
```

## 3. 启动Web服务器

```bash
python start_web.py
```

或者：

```bash
python api.py
```

## 4. 访问Web界面

在浏览器中打开：`http://localhost:8000`

## 5. 使用步骤

### 步骤1：创建数据库
1. 点击侧边栏的"创建数据库"按钮
2. 输入数据库名称（例如："知识库1"）
3. 点击"创建"

### 步骤2：添加文档
有两种方式添加文档：

**方式A：上传文件**
1. 点击"上传文件"按钮
2. 选择文本文件（.txt格式，UTF-8或GBK编码）
3. 文件会自动处理并添加到数据库

**方式B：添加文本**
1. 点击"添加文本"按钮
2. 在文本框中输入内容
3. 点击"添加"

### 步骤3：开始对话
1. 在聊天区域的下拉菜单中选择数据库
2. 在输入框中输入问题
3. 按Enter或点击"发送"按钮
4. 系统会检索相关文档并生成回答

## 6. 功能说明

### 数据库管理
- **创建数据库**：可以为不同的知识领域创建不同的数据库
- **选择数据库**：在数据库列表中选择，或在下拉菜单中选择
- **删除数据库**：点击删除按钮（需确认），删除后数据不可恢复

### 文档管理
- **上传文件**：支持文本文件上传，自动分块处理
- **添加文本**：直接输入文本内容，适合小段文本
- **查看信息**：侧边栏显示当前数据库的文档数量

### 聊天功能
- **多轮对话**：系统会自动保存对话历史
- **参考文档**：回答会显示参考的文档片段
- **实时交互**：支持实时查询和回答

## 7. 示例使用场景

### 场景1：技术文档问答
1. 创建数据库"技术文档"
2. 上传技术文档（如API文档、使用手册等）
3. 提问："如何使用这个API？"

### 场景2：知识库问答
1. 创建数据库"产品知识库"
2. 添加产品相关信息
3. 提问："产品的主要功能是什么？"

### 场景3：多数据库切换
1. 创建多个数据库（如"技术"、"产品"、"FAQ"）
2. 在不同数据库中添加相应内容
3. 在聊天时切换不同的数据库进行查询

## 8. 注意事项

1. **文件编码**：上传的文件需要是UTF-8或GBK编码的文本文件
2. **数据库选择**：查询前必须先选择数据库
3. **Ollama服务**：确保Ollama服务正常运行
4. **模型加载**：首次使用嵌入模型时可能需要下载，请耐心等待



